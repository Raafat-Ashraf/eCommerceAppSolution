2024-12-13 20:28:58.513 +02:00 [INF] Application is building...
2024-12-13 20:28:59.928 +02:00 [INF] User profile is available. Using 'C:\Users\raafa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-13 20:29:00.249 +02:00 [INF] Application is running...
2024-12-13 20:29:00.634 +02:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address https://127.0.0.1:7178: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2024-12-13 20:29:00.785 +02:00 [ERR] Application failed to start
System.IO.IOException: Failed to bind to address https://127.0.0.1:7178: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at Program.<Main>$(String[] args) in E:\.Net\.Net Advanced Topics\Netcode-Hub\eCommerce with Clean Architecture\eCommerceAppSolution\eCommerceApp.Api\Program.cs:line 60
2024-12-13 20:29:39.134 +02:00 [INF] Application is building...
2024-12-13 20:29:41.443 +02:00 [INF] User profile is available. Using 'C:\Users\raafa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-13 20:29:42.052 +02:00 [INF] Application is running...
2024-12-13 20:29:42.868 +02:00 [INF] Now listening on: https://localhost:7178
2024-12-13 20:29:42.890 +02:00 [INF] Now listening on: http://localhost:5113
2024-12-13 20:29:42.899 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-13 20:29:42.904 +02:00 [INF] Hosting environment: Development
2024-12-13 20:29:42.909 +02:00 [INF] Content root path: E:\.Net\.Net Advanced Topics\Netcode-Hub\eCommerce with Clean Architecture\eCommerceAppSolution\eCommerceApp.Api
2024-12-13 20:29:43.410 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7178/swagger/index.html - null null
2024-12-13 20:29:43.960 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 263.1753 ms
2024-12-13 20:29:43.983 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7178/swagger/index.html - 200 null text/html;charset=utf-8 574.0963ms
2024-12-13 20:29:44.207 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7178/swagger/v1/swagger.json - null null
2024-12-13 20:29:44.504 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 287.2678 ms
2024-12-13 20:29:44.509 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7178/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 301.6987ms
2024-12-13 20:29:56.091 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7178/Authentication/refresh-token/IrExYBiJxxCvwD3%2F6JMKIcbOJ7%2BVSpYvaHuHJqXGwWgsnU8I%2F5%2BGEaJJcS6TrJo07v3JTiR94q5pV0QiPg0jHw%3D%3D - null 0
2024-12-13 20:29:56.110 +02:00 [INF] CORS policy execution successful.
2024-12-13 20:29:56.165 +02:00 [INF] Executing endpoint 'eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api)'
2024-12-13 20:29:56.219 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Authentication", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.String) on controller eCommerceApp.Api.Controllers.AuthenticationController (eCommerceApp.Api).
2024-12-13 20:29:56.975 +02:00 [INF] Executing action method eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api) - Validation state: "Valid"
2024-12-13 20:30:07.018 +02:00 [WRN] Property 'Id' on entity type 'Category' is part of a primary or alternate key, but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
2024-12-13 20:30:07.023 +02:00 [WRN] Property 'Id' on entity type 'Product' is part of a primary or alternate key, but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
2024-12-13 20:30:08.948 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Token], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0
2024-12-13 20:30:23.408 +02:00 [INF] Executed DbCommand (128ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Token], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0
2024-12-13 20:30:27.252 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-12-13 20:30:31.300 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 20:30:31.427 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 20:30:31.522 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-13 20:31:36.284 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Token], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0
2024-12-13 20:32:21.540 +02:00 [INF] Application is building...
2024-12-13 20:32:23.194 +02:00 [INF] User profile is available. Using 'C:\Users\raafa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-13 20:32:23.623 +02:00 [INF] Application is running...
2024-12-13 20:32:24.133 +02:00 [INF] Now listening on: https://localhost:7178
2024-12-13 20:32:24.135 +02:00 [INF] Now listening on: http://localhost:5113
2024-12-13 20:32:24.144 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-13 20:32:24.148 +02:00 [INF] Hosting environment: Development
2024-12-13 20:32:24.150 +02:00 [INF] Content root path: E:\.Net\.Net Advanced Topics\Netcode-Hub\eCommerce with Clean Architecture\eCommerceAppSolution\eCommerceApp.Api
2024-12-13 20:32:24.581 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7178/swagger/index.html - null null
2024-12-13 20:32:25.106 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 265.9886 ms
2024-12-13 20:32:25.124 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7178/swagger/index.html - 200 null text/html;charset=utf-8 545.3271ms
2024-12-13 20:32:25.300 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7178/swagger/v1/swagger.json - null null
2024-12-13 20:32:25.617 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 307.3694 ms
2024-12-13 20:32:25.622 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7178/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 321.3105ms
2024-12-13 20:32:44.713 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7178/Authentication/refresh-token/IrExYBiJxxCvwD3%2F6JMKIcbOJ7%2BVSpYvaHuHJqXGwWgsnU8I%2F5%2BGEaJJcS6TrJo07v3JTiR94q5pV0QiPg0jHw%3D%3D - null 0
2024-12-13 20:32:44.736 +02:00 [INF] CORS policy execution successful.
2024-12-13 20:32:44.792 +02:00 [INF] Executing endpoint 'eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api)'
2024-12-13 20:32:44.849 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Authentication", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.String) on controller eCommerceApp.Api.Controllers.AuthenticationController (eCommerceApp.Api).
2024-12-13 20:32:45.570 +02:00 [INF] Executing action method eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api) - Validation state: "Valid"
2024-12-13 20:33:48.754 +02:00 [WRN] Property 'Id' on entity type 'Category' is part of a primary or alternate key, but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
2024-12-13 20:33:48.761 +02:00 [WRN] Property 'Id' on entity type 'Product' is part of a primary or alternate key, but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
2024-12-13 20:33:50.670 +02:00 [INF] Executed DbCommand (133ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Token], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0
2024-12-13 20:33:54.964 +02:00 [INF] Executed DbCommand (89ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Token], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0
2024-12-13 20:33:56.081 +02:00 [INF] Executed DbCommand (69ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-12-13 20:33:57.073 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 20:33:57.187 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 20:33:57.286 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-13 20:34:03.241 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Token], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0
2024-12-13 20:35:40.694 +02:00 [INF] Application is building...
2024-12-13 20:35:41.262 +02:00 [INF] User profile is available. Using 'C:\Users\raafa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-13 20:35:41.485 +02:00 [INF] Application is running...
2024-12-13 20:35:41.720 +02:00 [INF] Now listening on: https://localhost:7178
2024-12-13 20:35:41.722 +02:00 [INF] Now listening on: http://localhost:5113
2024-12-13 20:35:41.728 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-13 20:35:41.731 +02:00 [INF] Hosting environment: Development
2024-12-13 20:35:41.733 +02:00 [INF] Content root path: E:\.Net\.Net Advanced Topics\Netcode-Hub\eCommerce with Clean Architecture\eCommerceAppSolution\eCommerceApp.Api
2024-12-13 20:35:42.498 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7178/swagger/index.html - null null
2024-12-13 20:35:43.065 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 362.1940 ms
2024-12-13 20:35:43.096 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7178/swagger/index.html - 200 null text/html;charset=utf-8 599.1682ms
2024-12-13 20:35:43.288 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7178/swagger/v1/swagger.json - null null
2024-12-13 20:35:43.674 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 375.1740 ms
2024-12-13 20:35:43.678 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7178/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 390.2371ms
2024-12-13 21:04:40.274 +02:00 [INF] Application is shutting down...
2024-12-13 21:06:08.215 +02:00 [INF] Application is building...
2024-12-13 21:06:09.743 +02:00 [INF] User profile is available. Using 'C:\Users\raafa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-13 21:06:10.153 +02:00 [INF] Application is running...
2024-12-13 21:06:10.676 +02:00 [INF] Now listening on: https://localhost:7178
2024-12-13 21:06:10.679 +02:00 [INF] Now listening on: http://localhost:5113
2024-12-13 21:06:10.687 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-13 21:06:10.691 +02:00 [INF] Hosting environment: Development
2024-12-13 21:06:10.696 +02:00 [INF] Content root path: E:\.Net\.Net Advanced Topics\Netcode-Hub\eCommerce with Clean Architecture\eCommerceAppSolution\eCommerceApp.Api
2024-12-13 21:06:22.823 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7178/Authentication/refresh-token/IrExYBiJxxCvwD3%2F6JMKIcbOJ7%2BVSpYvaHuHJqXGwWgsnU8I%2F5%2BGEaJJcS6TrJo07v3JTiR94q5pV0QiPg0jHw%3D%3D - null 0
2024-12-13 21:06:23.065 +02:00 [INF] CORS policy execution successful.
2024-12-13 21:06:23.161 +02:00 [INF] Executing endpoint 'eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api)'
2024-12-13 21:06:23.226 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Authentication", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.String) on controller eCommerceApp.Api.Controllers.AuthenticationController (eCommerceApp.Api).
2024-12-13 21:06:23.989 +02:00 [INF] Executing action method eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api) - Validation state: "Valid"
2024-12-13 21:06:33.411 +02:00 [WRN] Property 'Id' on entity type 'Category' is part of a primary or alternate key, but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
2024-12-13 21:06:33.416 +02:00 [WRN] Property 'Id' on entity type 'Product' is part of a primary or alternate key, but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
2024-12-13 21:06:35.435 +02:00 [INF] Executed DbCommand (115ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Token], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0
2024-12-13 21:06:35.557 +02:00 [INF] Executed action method eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 11553.467ms.
2024-12-13 21:06:35.587 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-12-13 21:06:35.706 +02:00 [INF] Executed action eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api) in 12465.9864ms
2024-12-13 21:06:35.714 +02:00 [INF] Executed endpoint 'eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api)'
2024-12-13 21:06:35.729 +02:00 [INF] HTTP POST /Authentication/refresh-token/IrExYBiJxxCvwD3%2F6JMKIcbOJ7%2BVSpYvaHuHJqXGwWgsnU8I%2F5%2BGEaJJcS6TrJo07v3JTiR94q5pV0QiPg0jHw%3D%3D responded 400 in 12652.2474 ms
2024-12-13 21:06:35.780 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7178/Authentication/refresh-token/IrExYBiJxxCvwD3%2F6JMKIcbOJ7%2BVSpYvaHuHJqXGwWgsnU8I%2F5%2BGEaJJcS6TrJo07v3JTiR94q5pV0QiPg0jHw%3D%3D - 400 null application/problem+json; charset=utf-8 12959.2584ms
2024-12-13 21:06:40.033 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7178/Authentication/login - application/json 61
2024-12-13 21:06:40.060 +02:00 [INF] CORS policy execution successful.
2024-12-13 21:06:40.066 +02:00 [INF] Executing endpoint 'eCommerceApp.Api.Controllers.AuthenticationController.Login (eCommerceApp.Api)'
2024-12-13 21:06:40.076 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(eCommerceApp.Application.Dtos.Identity.LoginUser) on controller eCommerceApp.Api.Controllers.AuthenticationController (eCommerceApp.Api).
2024-12-13 21:06:40.156 +02:00 [INF] Executing action method eCommerceApp.Api.Controllers.AuthenticationController.Login (eCommerceApp.Api) - Validation state: "Valid"
2024-12-13 21:06:40.261 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:06:40.420 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:06:40.533 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-13 21:06:40.692 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:06:40.704 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:06:40.716 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:06:40.725 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-13 21:06:43.240 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Token], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0
2024-12-13 21:06:50.140 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [Token], [UserId])
VALUES (@p0, @p1, @p2);
2024-12-13 21:06:50.175 +02:00 [INF] Executed action method eCommerceApp.Api.Controllers.AuthenticationController.Login (eCommerceApp.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 10014.9618ms.
2024-12-13 21:06:50.181 +02:00 [INF] Executing OkObjectResult, writing value of type 'eCommerceApp.Application.Dtos.Identity.LoginResponse'.
2024-12-13 21:06:50.186 +02:00 [INF] Executed action eCommerceApp.Api.Controllers.AuthenticationController.Login (eCommerceApp.Api) in 10105.0928ms
2024-12-13 21:06:50.190 +02:00 [INF] Executed endpoint 'eCommerceApp.Api.Controllers.AuthenticationController.Login (eCommerceApp.Api)'
2024-12-13 21:06:50.193 +02:00 [INF] HTTP POST /Authentication/login responded 200 in 10128.1720 ms
2024-12-13 21:06:50.197 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7178/Authentication/login - 200 null application/json; charset=utf-8 10163.7845ms
2024-12-13 21:07:18.109 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7178/Authentication/refresh-token/xf7ZGNtvoZOPVqILYpdhrt%2B0U%2BaHf3oemQAnr9MbNhiZ5aOUM%2BKEkGXVLK6ZYn91IrkzwihQSznCqfaKDdmDqg%3D%3D - null 0
2024-12-13 21:07:18.128 +02:00 [INF] CORS policy execution successful.
2024-12-13 21:07:18.132 +02:00 [INF] Executing endpoint 'eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api)'
2024-12-13 21:07:18.136 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Authentication", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.String) on controller eCommerceApp.Api.Controllers.AuthenticationController (eCommerceApp.Api).
2024-12-13 21:07:18.156 +02:00 [INF] Executing action method eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api) - Validation state: "Valid"
2024-12-13 21:08:49.466 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Token], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0
2024-12-13 21:08:57.114 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Token], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0
2024-12-13 21:08:58.378 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-12-13 21:08:59.926 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:09:00.016 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:09:00.030 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-13 21:09:05.732 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Token], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0
2024-12-13 21:10:13.463 +02:00 [INF] Application is building...
2024-12-13 21:10:15.269 +02:00 [INF] User profile is available. Using 'C:\Users\raafa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-13 21:10:15.833 +02:00 [INF] Application is running...
2024-12-13 21:10:16.391 +02:00 [INF] Now listening on: https://localhost:7178
2024-12-13 21:10:16.419 +02:00 [INF] Now listening on: http://localhost:5113
2024-12-13 21:10:16.429 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-13 21:10:16.436 +02:00 [INF] Hosting environment: Development
2024-12-13 21:10:16.441 +02:00 [INF] Content root path: E:\.Net\.Net Advanced Topics\Netcode-Hub\eCommerce with Clean Architecture\eCommerceAppSolution\eCommerceApp.Api
2024-12-13 21:10:17.089 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7178/swagger/index.html - null null
2024-12-13 21:10:17.618 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 252.8010 ms
2024-12-13 21:10:17.640 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7178/swagger/index.html - 200 null text/html;charset=utf-8 552.8404ms
2024-12-13 21:10:17.835 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7178/swagger/v1/swagger.json - null null
2024-12-13 21:10:18.173 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 327.1846 ms
2024-12-13 21:10:18.178 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7178/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 342.6126ms
2024-12-13 21:12:24.232 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7178/Authentication/login - application/json 61
2024-12-13 21:12:24.260 +02:00 [INF] CORS policy execution successful.
2024-12-13 21:12:24.315 +02:00 [INF] Executing endpoint 'eCommerceApp.Api.Controllers.AuthenticationController.Login (eCommerceApp.Api)'
2024-12-13 21:12:24.371 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(eCommerceApp.Application.Dtos.Identity.LoginUser) on controller eCommerceApp.Api.Controllers.AuthenticationController (eCommerceApp.Api).
2024-12-13 21:12:25.193 +02:00 [INF] Executing action method eCommerceApp.Api.Controllers.AuthenticationController.Login (eCommerceApp.Api) - Validation state: "Valid"
2024-12-13 21:12:26.906 +02:00 [WRN] Property 'Id' on entity type 'Category' is part of a primary or alternate key, but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
2024-12-13 21:12:26.910 +02:00 [WRN] Property 'Id' on entity type 'Product' is part of a primary or alternate key, but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
2024-12-13 21:12:28.955 +02:00 [INF] Executed DbCommand (127ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:12:29.204 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:12:29.324 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-13 21:12:29.481 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:12:29.495 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:12:29.507 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:12:29.521 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-13 21:12:35.211 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Token], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0
2024-12-13 21:12:46.642 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [Token], [UserId])
VALUES (@p0, @p1, @p2);
2024-12-13 21:12:46.690 +02:00 [INF] Executed action method eCommerceApp.Api.Controllers.AuthenticationController.Login (eCommerceApp.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 21481.9216ms.
2024-12-13 21:12:46.714 +02:00 [INF] Executing OkObjectResult, writing value of type 'eCommerceApp.Application.Dtos.Identity.LoginResponse'.
2024-12-13 21:12:46.765 +02:00 [INF] Executed action eCommerceApp.Api.Controllers.AuthenticationController.Login (eCommerceApp.Api) in 22378.5447ms
2024-12-13 21:12:46.773 +02:00 [INF] Executed endpoint 'eCommerceApp.Api.Controllers.AuthenticationController.Login (eCommerceApp.Api)'
2024-12-13 21:12:46.779 +02:00 [INF] HTTP POST /Authentication/login responded 200 in 22514.9597 ms
2024-12-13 21:12:46.811 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7178/Authentication/login - 200 null application/json; charset=utf-8 22578.8019ms
2024-12-13 21:13:06.629 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7178/Authentication/refresh-token/0thSWE5ewbwAEONk9ziO0ME86lpuQy%2B5%2BQZH3NvCjMyG9smgo5n7cxowLZ2j6QPjrhxluRpvCKD3YbMN1l8QeA%3D%3D - null 0
2024-12-13 21:13:06.640 +02:00 [INF] CORS policy execution successful.
2024-12-13 21:13:06.643 +02:00 [INF] Executing endpoint 'eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api)'
2024-12-13 21:13:06.656 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Authentication", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.String) on controller eCommerceApp.Api.Controllers.AuthenticationController (eCommerceApp.Api).
2024-12-13 21:13:06.675 +02:00 [INF] Executing action method eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api) - Validation state: "Valid"
2024-12-13 21:13:12.309 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Token], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0
2024-12-13 21:13:15.301 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Token], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0
2024-12-13 21:13:15.824 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-12-13 21:13:16.771 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:13:16.857 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:13:16.867 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-13 21:13:23.448 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Token], [r].[UserId]
FROM [RefreshTokens] AS [r]
2024-12-13 21:14:55.222 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Token], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0
2024-12-13 21:18:25.736 +02:00 [INF] Application is building...
2024-12-13 21:18:27.418 +02:00 [INF] User profile is available. Using 'C:\Users\raafa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-13 21:18:28.057 +02:00 [INF] Application is running...
2024-12-13 21:18:28.789 +02:00 [INF] Now listening on: https://localhost:7178
2024-12-13 21:18:28.822 +02:00 [INF] Now listening on: http://localhost:5113
2024-12-13 21:18:28.832 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-13 21:18:28.837 +02:00 [INF] Hosting environment: Development
2024-12-13 21:18:28.839 +02:00 [INF] Content root path: E:\.Net\.Net Advanced Topics\Netcode-Hub\eCommerce with Clean Architecture\eCommerceAppSolution\eCommerceApp.Api
2024-12-13 21:18:29.137 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7178/swagger/index.html - null null
2024-12-13 21:18:29.640 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 252.0371 ms
2024-12-13 21:18:29.660 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7178/swagger/index.html - 200 null text/html;charset=utf-8 523.7456ms
2024-12-13 21:18:29.885 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7178/swagger/v1/swagger.json - null null
2024-12-13 21:18:30.196 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 301.2953 ms
2024-12-13 21:18:30.201 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7178/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 315.3047ms
2024-12-13 21:19:26.695 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7178/Authentication/login - application/json 61
2024-12-13 21:19:26.727 +02:00 [INF] CORS policy execution successful.
2024-12-13 21:19:26.782 +02:00 [INF] Executing endpoint 'eCommerceApp.Api.Controllers.AuthenticationController.Login (eCommerceApp.Api)'
2024-12-13 21:19:26.843 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(eCommerceApp.Application.Dtos.Identity.LoginUser) on controller eCommerceApp.Api.Controllers.AuthenticationController (eCommerceApp.Api).
2024-12-13 21:19:27.715 +02:00 [INF] Executing action method eCommerceApp.Api.Controllers.AuthenticationController.Login (eCommerceApp.Api) - Validation state: "Valid"
2024-12-13 21:19:29.492 +02:00 [WRN] Property 'Id' on entity type 'Category' is part of a primary or alternate key, but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
2024-12-13 21:19:29.495 +02:00 [WRN] Property 'Id' on entity type 'Product' is part of a primary or alternate key, but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
2024-12-13 21:19:31.468 +02:00 [INF] Executed DbCommand (122ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:19:31.701 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:19:31.824 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-13 21:19:31.982 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:19:31.996 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:19:32.007 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:19:32.019 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-13 21:19:53.388 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Token], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0
2024-12-13 21:27:45.358 +02:00 [INF] Application is building...
2024-12-13 21:27:45.920 +02:00 [INF] User profile is available. Using 'C:\Users\raafa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-13 21:27:46.163 +02:00 [INF] Application is running...
2024-12-13 21:27:46.413 +02:00 [INF] Now listening on: https://localhost:7178
2024-12-13 21:27:46.415 +02:00 [INF] Now listening on: http://localhost:5113
2024-12-13 21:27:46.424 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-13 21:27:46.427 +02:00 [INF] Hosting environment: Development
2024-12-13 21:27:46.429 +02:00 [INF] Content root path: E:\.Net\.Net Advanced Topics\Netcode-Hub\eCommerce with Clean Architecture\eCommerceAppSolution\eCommerceApp.Api
2024-12-13 21:27:47.262 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7178/swagger/index.html - null null
2024-12-13 21:27:48.046 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 492.5586 ms
2024-12-13 21:27:48.106 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7178/swagger/index.html - 200 null text/html;charset=utf-8 844.8179ms
2024-12-13 21:27:48.304 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7178/swagger/v1/swagger.json - null null
2024-12-13 21:27:48.726 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 396.0085 ms
2024-12-13 21:27:48.730 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7178/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 426.4664ms
2024-12-13 21:28:18.250 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7178/Authentication/login - application/json 61
2024-12-13 21:28:18.269 +02:00 [INF] CORS policy execution successful.
2024-12-13 21:28:18.284 +02:00 [INF] Executing endpoint 'eCommerceApp.Api.Controllers.AuthenticationController.Login (eCommerceApp.Api)'
2024-12-13 21:28:18.333 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(eCommerceApp.Application.Dtos.Identity.LoginUser) on controller eCommerceApp.Api.Controllers.AuthenticationController (eCommerceApp.Api).
2024-12-13 21:28:18.924 +02:00 [INF] Executing action method eCommerceApp.Api.Controllers.AuthenticationController.Login (eCommerceApp.Api) - Validation state: "Valid"
2024-12-13 21:28:20.588 +02:00 [WRN] Property 'Id' on entity type 'Category' is part of a primary or alternate key, but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
2024-12-13 21:28:20.593 +02:00 [WRN] Property 'Id' on entity type 'Product' is part of a primary or alternate key, but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
2024-12-13 21:28:22.041 +02:00 [INF] Executed DbCommand (90ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:28:22.263 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:28:22.371 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-13 21:28:22.503 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:28:22.514 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:28:22.522 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:28:22.530 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-13 21:28:22.595 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Token], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0
2024-12-13 21:28:22.949 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [Token], [UserId])
VALUES (@p0, @p1, @p2);
2024-12-13 21:28:22.996 +02:00 [INF] Executed action method eCommerceApp.Api.Controllers.AuthenticationController.Login (eCommerceApp.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4058.7461ms.
2024-12-13 21:28:23.014 +02:00 [INF] Executing OkObjectResult, writing value of type 'eCommerceApp.Application.Dtos.Identity.LoginResponse'.
2024-12-13 21:28:23.039 +02:00 [INF] Executed action eCommerceApp.Api.Controllers.AuthenticationController.Login (eCommerceApp.Api) in 4690.724ms
2024-12-13 21:28:23.045 +02:00 [INF] Executed endpoint 'eCommerceApp.Api.Controllers.AuthenticationController.Login (eCommerceApp.Api)'
2024-12-13 21:28:23.049 +02:00 [INF] HTTP POST /Authentication/login responded 200 in 4775.8605 ms
2024-12-13 21:28:23.078 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7178/Authentication/login - 200 null application/json; charset=utf-8 4828.5538ms
2024-12-13 21:28:35.404 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7178/Authentication/refresh-token/MtwM8m6mlivu6kOmIbIGznVyDCfSfQFcXt6kBUmEQGkJbRTSxnHw%2FOlOUFc6GVc64C6OcHmvnHkXYCi9AikFAQ== - null 0
2024-12-13 21:28:35.416 +02:00 [INF] CORS policy execution successful.
2024-12-13 21:28:35.420 +02:00 [INF] Executing endpoint 'eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api)'
2024-12-13 21:28:35.435 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Authentication", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.String) on controller eCommerceApp.Api.Controllers.AuthenticationController (eCommerceApp.Api).
2024-12-13 21:28:35.451 +02:00 [INF] Executing action method eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api) - Validation state: "Valid"
2024-12-13 21:28:35.544 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Token], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0
2024-12-13 21:28:35.555 +02:00 [INF] Executed action method eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 100.236ms.
2024-12-13 21:28:35.562 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-12-13 21:28:35.593 +02:00 [INF] Executed action eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api) in 151.9926ms
2024-12-13 21:28:35.597 +02:00 [INF] Executed endpoint 'eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api)'
2024-12-13 21:28:35.602 +02:00 [INF] HTTP POST /Authentication/refresh-token/MtwM8m6mlivu6kOmIbIGznVyDCfSfQFcXt6kBUmEQGkJbRTSxnHw%2FOlOUFc6GVc64C6OcHmvnHkXYCi9AikFAQ== responded 400 in 182.2607 ms
2024-12-13 21:28:35.606 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7178/Authentication/refresh-token/MtwM8m6mlivu6kOmIbIGznVyDCfSfQFcXt6kBUmEQGkJbRTSxnHw%2FOlOUFc6GVc64C6OcHmvnHkXYCi9AikFAQ== - 400 null application/problem+json; charset=utf-8 201.7779ms
2024-12-13 21:28:45.834 +02:00 [INF] Application is shutting down...
2024-12-13 21:28:55.796 +02:00 [INF] Application is building...
2024-12-13 21:28:57.378 +02:00 [INF] User profile is available. Using 'C:\Users\raafa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-13 21:28:57.802 +02:00 [INF] Application is running...
2024-12-13 21:28:58.302 +02:00 [INF] Now listening on: https://localhost:7178
2024-12-13 21:28:58.313 +02:00 [INF] Now listening on: http://localhost:5113
2024-12-13 21:28:58.322 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-13 21:28:58.325 +02:00 [INF] Hosting environment: Development
2024-12-13 21:28:58.327 +02:00 [INF] Content root path: E:\.Net\.Net Advanced Topics\Netcode-Hub\eCommerce with Clean Architecture\eCommerceAppSolution\eCommerceApp.Api
2024-12-13 21:28:58.715 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7178/swagger/index.html - null null
2024-12-13 21:28:59.213 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 238.8569 ms
2024-12-13 21:28:59.233 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7178/swagger/index.html - 200 null text/html;charset=utf-8 519.9419ms
2024-12-13 21:28:59.406 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7178/swagger/v1/swagger.json - null null
2024-12-13 21:28:59.754 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 340.3309 ms
2024-12-13 21:28:59.760 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7178/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 353.64ms
2024-12-13 21:29:04.910 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7178/Authentication/refresh-token/MtwM8m6mlivu6kOmIbIGznVyDCfSfQFcXt6kBUmEQGkJbRTSxnHw%2FOlOUFc6GVc64C6OcHmvnHkXYCi9AikFAQ== - null 0
2024-12-13 21:29:04.936 +02:00 [INF] CORS policy execution successful.
2024-12-13 21:29:04.994 +02:00 [INF] Executing endpoint 'eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api)'
2024-12-13 21:29:05.059 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Authentication", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.String) on controller eCommerceApp.Api.Controllers.AuthenticationController (eCommerceApp.Api).
2024-12-13 21:29:05.840 +02:00 [INF] Executing action method eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api) - Validation state: "Valid"
2024-12-13 21:29:16.733 +02:00 [WRN] Property 'Id' on entity type 'Category' is part of a primary or alternate key, but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
2024-12-13 21:29:16.736 +02:00 [WRN] Property 'Id' on entity type 'Product' is part of a primary or alternate key, but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
2024-12-13 21:29:18.773 +02:00 [INF] Executed DbCommand (119ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Token], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0
2024-12-13 21:29:49.548 +02:00 [INF] Executed action method eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 43692.0381ms.
2024-12-13 21:29:49.572 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-12-13 21:29:49.635 +02:00 [INF] Executed action eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api) in 44563.8655ms
2024-12-13 21:29:49.641 +02:00 [INF] Executed endpoint 'eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api)'
2024-12-13 21:29:49.646 +02:00 [INF] HTTP POST /Authentication/refresh-token/MtwM8m6mlivu6kOmIbIGznVyDCfSfQFcXt6kBUmEQGkJbRTSxnHw%2FOlOUFc6GVc64C6OcHmvnHkXYCi9AikFAQ== responded 400 in 44704.8021 ms
2024-12-13 21:29:49.677 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7178/Authentication/refresh-token/MtwM8m6mlivu6kOmIbIGznVyDCfSfQFcXt6kBUmEQGkJbRTSxnHw%2FOlOUFc6GVc64C6OcHmvnHkXYCi9AikFAQ== - 400 null application/problem+json; charset=utf-8 44766.9809ms
2024-12-13 21:30:53.807 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7178/Authentication/refresh-token/MtwM8m6mlivu6kOmIbIGznVyDCfSfQFcXt6kBUmEQGkJbRTSxnHw%2FOlOUFc6GVc64C6OcHmvnHkXYCi9AikFAQ== - null 0
2024-12-13 21:30:53.824 +02:00 [INF] CORS policy execution successful.
2024-12-13 21:30:53.826 +02:00 [INF] Executing endpoint 'eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api)'
2024-12-13 21:30:53.830 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Authentication", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.String) on controller eCommerceApp.Api.Controllers.AuthenticationController (eCommerceApp.Api).
2024-12-13 21:30:53.841 +02:00 [INF] Executing action method eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api) - Validation state: "Valid"
2024-12-13 21:30:57.879 +02:00 [INF] Executed DbCommand (174ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Token], [r].[UserId]
FROM [RefreshTokens] AS [r]
2024-12-13 21:32:04.927 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Token], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0
2024-12-13 21:32:04.933 +02:00 [INF] Executed action method eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 71088.1287ms.
2024-12-13 21:32:04.936 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-12-13 21:32:04.939 +02:00 [INF] Executed action eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api) in 71105.7532ms
2024-12-13 21:32:04.952 +02:00 [INF] Executed endpoint 'eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api)'
2024-12-13 21:32:04.955 +02:00 [INF] HTTP POST /Authentication/refresh-token/MtwM8m6mlivu6kOmIbIGznVyDCfSfQFcXt6kBUmEQGkJbRTSxnHw%2FOlOUFc6GVc64C6OcHmvnHkXYCi9AikFAQ== responded 400 in 71129.5690 ms
2024-12-13 21:32:04.959 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7178/Authentication/refresh-token/MtwM8m6mlivu6kOmIbIGznVyDCfSfQFcXt6kBUmEQGkJbRTSxnHw%2FOlOUFc6GVc64C6OcHmvnHkXYCi9AikFAQ== - 400 null application/problem+json; charset=utf-8 71152.467ms
2024-12-13 21:35:05.758 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7178/Authentication/refresh-token/MtwM8m6mlivu6kOmIbIGznVyDCfSfQFcXt6kBUmEQGkJbRTSxnHw%2FOlOUFc6GVc64C6OcHmvnHkXYCi9AikFAQ== - null 0
2024-12-13 21:35:05.780 +02:00 [INF] CORS policy execution successful.
2024-12-13 21:35:05.784 +02:00 [INF] Executing endpoint 'eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api)'
2024-12-13 21:35:05.788 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Authentication", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.String) on controller eCommerceApp.Api.Controllers.AuthenticationController (eCommerceApp.Api).
2024-12-13 21:35:05.810 +02:00 [INF] Executing action method eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api) - Validation state: "Valid"
2024-12-13 21:36:44.809 +02:00 [INF] Application is building...
2024-12-13 21:36:46.391 +02:00 [INF] User profile is available. Using 'C:\Users\raafa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-13 21:36:46.853 +02:00 [INF] Application is running...
2024-12-13 21:36:47.597 +02:00 [INF] Now listening on: https://localhost:7178
2024-12-13 21:36:47.629 +02:00 [INF] Now listening on: http://localhost:5113
2024-12-13 21:36:47.639 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-13 21:36:47.644 +02:00 [INF] Hosting environment: Development
2024-12-13 21:36:47.645 +02:00 [INF] Content root path: E:\.Net\.Net Advanced Topics\Netcode-Hub\eCommerce with Clean Architecture\eCommerceAppSolution\eCommerceApp.Api
2024-12-13 21:36:50.704 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7178/Authentication/refresh-token/MtwM8m6mlivu6kOmIbIGznVyDCfSfQFcXt6kBUmEQGkJbRTSxnHw%2FOlOUFc6GVc64C6OcHmvnHkXYCi9AikFAQ== - null 0
2024-12-13 21:36:50.937 +02:00 [INF] CORS policy execution successful.
2024-12-13 21:36:51.021 +02:00 [INF] Executing endpoint 'eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api)'
2024-12-13 21:36:51.077 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Authentication", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.String) on controller eCommerceApp.Api.Controllers.AuthenticationController (eCommerceApp.Api).
2024-12-13 21:36:51.868 +02:00 [INF] Executing action method eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api) - Validation state: "Valid"
2024-12-13 21:37:10.005 +02:00 [WRN] Property 'Id' on entity type 'Category' is part of a primary or alternate key, but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
2024-12-13 21:37:10.012 +02:00 [WRN] Property 'Id' on entity type 'Product' is part of a primary or alternate key, but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
2024-12-13 21:37:11.810 +02:00 [INF] Executed DbCommand (118ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Token], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0
2024-12-13 21:37:11.936 +02:00 [INF] Executed action method eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 20047.7468ms.
2024-12-13 21:37:11.968 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-12-13 21:37:12.155 +02:00 [INF] Executed action eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api) in 21061.0708ms
2024-12-13 21:37:12.162 +02:00 [INF] Executed endpoint 'eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api)'
2024-12-13 21:37:12.179 +02:00 [INF] HTTP POST /Authentication/refresh-token/MtwM8m6mlivu6kOmIbIGznVyDCfSfQFcXt6kBUmEQGkJbRTSxnHw%2FOlOUFc6GVc64C6OcHmvnHkXYCi9AikFAQ== responded 400 in 21230.1407 ms
2024-12-13 21:37:12.221 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7178/Authentication/refresh-token/MtwM8m6mlivu6kOmIbIGznVyDCfSfQFcXt6kBUmEQGkJbRTSxnHw%2FOlOUFc6GVc64C6OcHmvnHkXYCi9AikFAQ== - 400 null application/problem+json; charset=utf-8 21521.1616ms
2024-12-13 21:37:37.477 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7178/Authentication/login - application/json 61
2024-12-13 21:37:37.499 +02:00 [INF] CORS policy execution successful.
2024-12-13 21:37:37.503 +02:00 [INF] Executing endpoint 'eCommerceApp.Api.Controllers.AuthenticationController.Login (eCommerceApp.Api)'
2024-12-13 21:37:37.514 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(eCommerceApp.Application.Dtos.Identity.LoginUser) on controller eCommerceApp.Api.Controllers.AuthenticationController (eCommerceApp.Api).
2024-12-13 21:37:37.599 +02:00 [INF] Executing action method eCommerceApp.Api.Controllers.AuthenticationController.Login (eCommerceApp.Api) - Validation state: "Valid"
2024-12-13 21:37:37.713 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:37:37.859 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:37:37.974 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-13 21:37:38.116 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:37:38.126 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:37:38.136 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:37:38.147 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-13 21:37:59.778 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Token], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0
2024-12-13 21:38:01.672 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [Token], [UserId])
VALUES (@p0, @p1, @p2);
2024-12-13 21:38:01.711 +02:00 [INF] Executed action method eCommerceApp.Api.Controllers.AuthenticationController.Login (eCommerceApp.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 24105.2612ms.
2024-12-13 21:38:01.718 +02:00 [INF] Executing OkObjectResult, writing value of type 'eCommerceApp.Application.Dtos.Identity.LoginResponse'.
2024-12-13 21:38:01.726 +02:00 [INF] Executed action eCommerceApp.Api.Controllers.AuthenticationController.Login (eCommerceApp.Api) in 24206.5375ms
2024-12-13 21:38:01.740 +02:00 [INF] Executed endpoint 'eCommerceApp.Api.Controllers.AuthenticationController.Login (eCommerceApp.Api)'
2024-12-13 21:38:01.743 +02:00 [INF] HTTP POST /Authentication/login responded 200 in 24241.1000 ms
2024-12-13 21:38:01.748 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7178/Authentication/login - 200 null application/json; charset=utf-8 24271.2061ms
2024-12-13 21:38:10.182 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7178/Authentication/login - application/json 61
2024-12-13 21:38:10.194 +02:00 [INF] CORS policy execution successful.
2024-12-13 21:38:10.197 +02:00 [INF] Executing endpoint 'eCommerceApp.Api.Controllers.AuthenticationController.Login (eCommerceApp.Api)'
2024-12-13 21:38:10.201 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(eCommerceApp.Application.Dtos.Identity.LoginUser) on controller eCommerceApp.Api.Controllers.AuthenticationController (eCommerceApp.Api).
2024-12-13 21:38:10.226 +02:00 [INF] Executing action method eCommerceApp.Api.Controllers.AuthenticationController.Login (eCommerceApp.Api) - Validation state: "Valid"
2024-12-13 21:38:10.299 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:38:10.307 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:38:10.319 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-13 21:38:10.423 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:38:10.434 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:38:10.445 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:38:10.453 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-13 21:38:29.507 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Token], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0
2024-12-13 21:38:38.941 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [Token], [UserId])
VALUES (@p0, @p1, @p2);
2024-12-13 21:38:38.949 +02:00 [INF] Executed action method eCommerceApp.Api.Controllers.AuthenticationController.Login (eCommerceApp.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 28719.1847ms.
2024-12-13 21:38:38.952 +02:00 [INF] Executing OkObjectResult, writing value of type 'eCommerceApp.Application.Dtos.Identity.LoginResponse'.
2024-12-13 21:38:38.954 +02:00 [INF] Executed action eCommerceApp.Api.Controllers.AuthenticationController.Login (eCommerceApp.Api) in 28746.2996ms
2024-12-13 21:38:38.962 +02:00 [INF] Executed endpoint 'eCommerceApp.Api.Controllers.AuthenticationController.Login (eCommerceApp.Api)'
2024-12-13 21:38:38.969 +02:00 [INF] HTTP POST /Authentication/login responded 200 in 28772.8467 ms
2024-12-13 21:38:38.972 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7178/Authentication/login - 200 null application/json; charset=utf-8 28790.2837ms
2024-12-13 21:39:03.643 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7178/Authentication/login - application/json 61
2024-12-13 21:39:03.652 +02:00 [INF] CORS policy execution successful.
2024-12-13 21:39:03.656 +02:00 [INF] Executing endpoint 'eCommerceApp.Api.Controllers.AuthenticationController.Login (eCommerceApp.Api)'
2024-12-13 21:39:03.661 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(eCommerceApp.Application.Dtos.Identity.LoginUser) on controller eCommerceApp.Api.Controllers.AuthenticationController (eCommerceApp.Api).
2024-12-13 21:39:03.671 +02:00 [INF] Executing action method eCommerceApp.Api.Controllers.AuthenticationController.Login (eCommerceApp.Api) - Validation state: "Valid"
2024-12-13 21:39:03.681 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:39:03.692 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:39:03.703 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-13 21:39:03.813 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:39:03.823 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:39:03.832 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:39:03.842 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-13 21:39:35.432 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Token], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0
2024-12-13 21:40:31.588 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [Token], [UserId])
VALUES (@p0, @p1, @p2);
2024-12-13 21:40:38.532 +02:00 [INF] Executed action method eCommerceApp.Api.Controllers.AuthenticationController.Login (eCommerceApp.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 94855.9871ms.
2024-12-13 21:40:38.536 +02:00 [INF] Executing OkObjectResult, writing value of type 'eCommerceApp.Application.Dtos.Identity.LoginResponse'.
2024-12-13 21:40:38.540 +02:00 [INF] Executed action eCommerceApp.Api.Controllers.AuthenticationController.Login (eCommerceApp.Api) in 94871.2189ms
2024-12-13 21:40:38.544 +02:00 [INF] Executed endpoint 'eCommerceApp.Api.Controllers.AuthenticationController.Login (eCommerceApp.Api)'
2024-12-13 21:40:38.546 +02:00 [INF] HTTP POST /Authentication/login responded 200 in 94890.7648 ms
2024-12-13 21:40:38.549 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7178/Authentication/login - 200 null application/json; charset=utf-8 94906.5519ms
2024-12-13 21:41:08.699 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7178/Authentication/refresh-token/E0JnweS%2Fy8%2FR%2BkJjs4TElHc%2BoWUp3SmPlHrNRLIJsW2Hr9oTKzUibhR5O7xI40DxMO8lU0sFX88NHEV6DE41gQ%3D%3D - null 0
2024-12-13 21:41:08.717 +02:00 [INF] CORS policy execution successful.
2024-12-13 21:41:08.721 +02:00 [INF] Executing endpoint 'eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api)'
2024-12-13 21:41:08.724 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Authentication", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.String) on controller eCommerceApp.Api.Controllers.AuthenticationController (eCommerceApp.Api).
2024-12-13 21:41:08.734 +02:00 [INF] Executing action method eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api) - Validation state: "Valid"
2024-12-13 21:41:24.353 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Token], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0
2024-12-13 21:41:46.772 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Token], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0
2024-12-13 21:41:46.843 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-12-13 21:41:46.861 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:41:46.870 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:41:46.881 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-13 21:43:53.906 +02:00 [INF] Application is building...
2024-12-13 21:43:54.510 +02:00 [INF] User profile is available. Using 'C:\Users\raafa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-13 21:43:54.701 +02:00 [INF] Application is running...
2024-12-13 21:43:54.935 +02:00 [INF] Now listening on: https://localhost:7178
2024-12-13 21:43:54.936 +02:00 [INF] Now listening on: http://localhost:5113
2024-12-13 21:43:54.945 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-13 21:43:54.949 +02:00 [INF] Hosting environment: Development
2024-12-13 21:43:54.951 +02:00 [INF] Content root path: E:\.Net\.Net Advanced Topics\Netcode-Hub\eCommerce with Clean Architecture\eCommerceAppSolution\eCommerceApp.Api
2024-12-13 21:43:55.416 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7178/swagger/index.html - null null
2024-12-13 21:43:55.896 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 310.0885 ms
2024-12-13 21:43:55.988 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7178/swagger/index.html - 200 null text/html;charset=utf-8 563.9205ms
2024-12-13 21:43:56.151 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7178/swagger/v1/swagger.json - null null
2024-12-13 21:43:56.633 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 414.4717 ms
2024-12-13 21:43:56.642 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7178/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 490.1209ms
2024-12-13 21:44:58.852 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7178/Authentication/refresh-token/E0JnweS%2Fy8%2FR%2BkJjs4TElHc%2BoWUp3SmPlHrNRLIJsW2Hr9oTKzUibhR5O7xI40DxMO8lU0sFX88NHEV6DE41gQ%3D%3D - null 0
2024-12-13 21:44:58.874 +02:00 [INF] CORS policy execution successful.
2024-12-13 21:44:58.895 +02:00 [INF] Executing endpoint 'eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api)'
2024-12-13 21:44:58.951 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Authentication", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.String) on controller eCommerceApp.Api.Controllers.AuthenticationController (eCommerceApp.Api).
2024-12-13 21:44:59.488 +02:00 [INF] Executing action method eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api) - Validation state: "Valid"
2024-12-13 21:45:00.883 +02:00 [WRN] Property 'Id' on entity type 'Category' is part of a primary or alternate key, but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
2024-12-13 21:45:00.889 +02:00 [WRN] Property 'Id' on entity type 'Product' is part of a primary or alternate key, but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
2024-12-13 21:45:02.251 +02:00 [INF] Executed DbCommand (93ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Token], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0
2024-12-13 21:45:02.410 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Token], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0
2024-12-13 21:45:02.501 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-12-13 21:45:02.651 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:45:02.668 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:45:02.758 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-13 21:45:02.823 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Token], [r].[UserId]
FROM [RefreshTokens] AS [r]
2024-12-13 21:45:02.833 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Token], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0
2024-12-13 21:45:02.852 +02:00 [INF] Executed action method eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3350.4114ms.
2024-12-13 21:45:02.874 +02:00 [INF] Executing OkObjectResult, writing value of type 'eCommerceApp.Application.Abstractions.Result`1[[eCommerceApp.Application.Dtos.Identity.LoginResponse, eCommerceApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-12-13 21:45:02.919 +02:00 [INF] Executed action eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api) in 3954.798ms
2024-12-13 21:45:02.924 +02:00 [INF] Executed endpoint 'eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api)'
2024-12-13 21:45:02.930 +02:00 [INF] HTTP POST /Authentication/refresh-token/E0JnweS%2Fy8%2FR%2BkJjs4TElHc%2BoWUp3SmPlHrNRLIJsW2Hr9oTKzUibhR5O7xI40DxMO8lU0sFX88NHEV6DE41gQ%3D%3D responded 200 in 4049.4903 ms
2024-12-13 21:45:02.959 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7178/Authentication/refresh-token/E0JnweS%2Fy8%2FR%2BkJjs4TElHc%2BoWUp3SmPlHrNRLIJsW2Hr9oTKzUibhR5O7xI40DxMO8lU0sFX88NHEV6DE41gQ%3D%3D - 200 null application/json; charset=utf-8 4106.8344ms
2024-12-13 21:48:39.799 +02:00 [INF] Application is shutting down...
2024-12-13 21:48:48.999 +02:00 [INF] Application is building...
2024-12-13 21:48:49.540 +02:00 [INF] User profile is available. Using 'C:\Users\raafa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-13 21:48:49.775 +02:00 [INF] Application is running...
2024-12-13 21:48:49.981 +02:00 [INF] Now listening on: https://localhost:7178
2024-12-13 21:48:49.983 +02:00 [INF] Now listening on: http://localhost:5113
2024-12-13 21:48:49.990 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-13 21:48:49.992 +02:00 [INF] Hosting environment: Development
2024-12-13 21:48:49.995 +02:00 [INF] Content root path: E:\.Net\.Net Advanced Topics\Netcode-Hub\eCommerce with Clean Architecture\eCommerceAppSolution\eCommerceApp.Api
2024-12-13 21:48:50.461 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7178/swagger/index.html - null null
2024-12-13 21:48:50.861 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 236.4824 ms
2024-12-13 21:48:50.883 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7178/swagger/index.html - 200 null text/html;charset=utf-8 424.5298ms
2024-12-13 21:48:51.106 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7178/swagger/v1/swagger.json - null null
2024-12-13 21:48:51.489 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 333.6115 ms
2024-12-13 21:48:51.494 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7178/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 389.8842ms
2024-12-13 21:48:56.132 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7178/Authentication/refresh-token/E0JnweS%2Fy8%2FR%2BkJjs4TElHc%2BoWUp3SmPlHrNRLIJsW2Hr9oTKzUibhR5O7xI40DxMO8lU0sFX88NHEV6DE41gQ%3D%3D - null 0
2024-12-13 21:48:56.168 +02:00 [INF] CORS policy execution successful.
2024-12-13 21:48:56.183 +02:00 [INF] Executing endpoint 'eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api)'
2024-12-13 21:48:56.236 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Authentication", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(System.String) on controller eCommerceApp.Api.Controllers.AuthenticationController (eCommerceApp.Api).
2024-12-13 21:48:56.867 +02:00 [INF] Executing action method eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api) - Validation state: "Valid"
2024-12-13 21:48:58.805 +02:00 [WRN] Property 'Id' on entity type 'Category' is part of a primary or alternate key, but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
2024-12-13 21:48:58.808 +02:00 [WRN] Property 'Id' on entity type 'Product' is part of a primary or alternate key, but has a constant default value set. Constant default values are not useful for primary or alternate keys since these properties must always have non-null unique values.
2024-12-13 21:49:00.368 +02:00 [INF] Executed DbCommand (105ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Token], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0
2024-12-13 21:49:00.564 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Token], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0
2024-12-13 21:49:00.679 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-12-13 21:49:00.881 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:49:00.899 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-12-13 21:49:01.035 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-12-13 21:49:01.133 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Token], [r].[UserId]
FROM [RefreshTokens] AS [r]
2024-12-13 21:49:01.143 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Token], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0
2024-12-13 21:49:01.167 +02:00 [INF] Executed action method eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4284.0379ms.
2024-12-13 21:49:01.194 +02:00 [INF] Executing OkObjectResult, writing value of type 'eCommerceApp.Application.Dtos.Identity.LoginResponse'.
2024-12-13 21:49:01.231 +02:00 [INF] Executed action eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api) in 4979.9355ms
2024-12-13 21:49:01.237 +02:00 [INF] Executed endpoint 'eCommerceApp.Api.Controllers.AuthenticationController.RefreshToken (eCommerceApp.Api)'
2024-12-13 21:49:01.242 +02:00 [INF] HTTP POST /Authentication/refresh-token/E0JnweS%2Fy8%2FR%2BkJjs4TElHc%2BoWUp3SmPlHrNRLIJsW2Hr9oTKzUibhR5O7xI40DxMO8lU0sFX88NHEV6DE41gQ%3D%3D responded 200 in 5072.1878 ms
2024-12-13 21:49:01.352 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7178/Authentication/refresh-token/E0JnweS%2Fy8%2FR%2BkJjs4TElHc%2BoWUp3SmPlHrNRLIJsW2Hr9oTKzUibhR5O7xI40DxMO8lU0sFX88NHEV6DE41gQ%3D%3D - 200 null application/json; charset=utf-8 5219.6843ms
2024-12-13 21:49:06.835 +02:00 [INF] Application is shutting down...
